{"version":3,"sources":["components/Person.jsx","components/PersonForm.jsx","components/Filter.jsx","components/Notification.jsx","services/persons.jsx","App.js","reportWebVitals.js","index.js"],"names":["Person","person","deleteHandler","name","number","onClick","PersonForm","num","nameHandler","numHandler","personHandler","onSubmit","value","onChange","type","Filter","filterVal","filterHandler","Notification","message","isError","classType","className","baseUrl","axios","get","then","response","data","newPerson","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterInput","setFilter","messageObject","setMessage","useEffect","console","log","personService","initialPersons","length","confirmNumChange","personObject","updatePerson","filter","toLowerCase","window","confirm","returnedPerson","setTimeout","map","p","catch","error","hasNameBeenUsed","nameUsage","findIndex","peopleToShow","includes","event","target","preventDefault","concat","deletePerson","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a295cfe3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deleteHandler}) => {\r\n    return (\r\n      <div>\r\n        {person.name} {person.number} <button onClick={deleteHandler}>delete</button>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = ({name, num, nameHandler, numHandler, personHandler}) => {  \r\n    return (\r\n      <form onSubmit={personHandler}>\r\n        <div>\r\n          name: \r\n          <input \r\n            value={name}\r\n            onChange={nameHandler}\r\n          />\r\n          <br/>\r\n          number:\r\n          <input \r\n            value={num}\r\n            onChange={numHandler}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({filterVal, filterHandler}) => {\r\n  \r\n    return (\r\n      <div>\r\n        filter shown with \r\n        <input \r\n          value={filterVal}\r\n          onChange={filterHandler}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport './Notification.css'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    const classType = isError ? 'error' : 'info'\r\n\r\n    return (\r\n        <div className={classType}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React, { useState, useEffect } from 'react'\n\nimport Person from './components/Person'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterInput, setFilter ] = useState('')\n  const [ messageObject, setMessage ] = useState({message: null, isError: null})\n\n  useEffect(() => {\n    console.log('effect triggered')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'person(s)')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    \n    if (hasNameBeenUsed(personObject.name)) {\n      confirmNumChange(personObject)\n    } else {    \n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setMessage({message: `Added ${returnedPerson.name}`, isError: false})\n          setTimeout(() => {\n            setMessage({message: null, isError: null})\n          }, 5000)\n          setPersons(persons.concat(returnedPerson))\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const confirmNumChange = (personObject) => {\n    const updatePerson = persons.filter(person => person.name.toLowerCase() === personObject.name.toLowerCase())[0]\n    console.log(updatePerson)\n    if (window.confirm(`${updatePerson.name} is already added to phonebook, replace the old number with a new one?`)) {\n      console.log(updatePerson.id)\n      personService\n        .update(updatePerson.id, personObject)\n        .then(returnedPerson => {\n          setMessage({message: `Changed ${updatePerson.name}'s number to ${updatePerson.number}`, isError: false})\n          setTimeout(() => {\n            setMessage({message: null, isError: null})\n          }, 5000)\n          setPersons(persons.map(p => p.id !== updatePerson.id ? p : returnedPerson))\n        })\n        .catch(error => {\n          setMessage({message: `Information of ${updatePerson.name} has already been removed from the server`, isError: true})\n          setTimeout(() => {\n            setMessage({message: null, isError: null})\n          }, 5000)\n        })\n    }\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(person.id)\n        .then(\n          setPersons(persons.filter(p => p.id !== person.id))\n        )\n    }\n  }\n\n  const hasNameBeenUsed = (name) => {\n    console.log('Name usage check:', name)\n    const nameUsage = persons.findIndex(person => person.name === name) >= 0\n    console.log('Has name been used?', nameUsage)\n    return nameUsage\n  }\n\n  const peopleToShow = filterInput.length > 0\n    ? persons.filter(person => person.name.toLowerCase().includes(filterInput.toLowerCase()))\n    : persons\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook Example Application - Look New Stuff</h2>\n      <Notification message={messageObject.message} isError={messageObject.isError}></Notification>\n\n      <Filter persons={persons} filterVal={filterInput} filterHandler={handleFilterChange}></Filter>\n      \n      <h2>add a new</h2>\n      <PersonForm name={newName} num={newNumber} nameHandler={handleNameChange} numHandler={handleNumberChange} personHandler={addPerson}></PersonForm>\n\n      <h2>Numbers</h2>\n      {peopleToShow.map(person => \n        <Person key={person.name} person={person} deleteHandler={() => deletePerson(person)}></Person>\n      )}\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}